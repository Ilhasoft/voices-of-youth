{% extends "voyadmin/base.html" %}

{% load static i18n sass_tags %}

{% block extracss %}
    <link rel="stylesheet" href="{% sass_src 'css/report/report.scss' %}">
{% endblock %}

<!-- REPORT_STATUS_CHOICES = (
    (REPORT_STATUS_APPROVED, _('Approved')),
    (REPORT_STATUS_PENDING, _('Pending')),
    (REPORT_STATUS_REJECTED, _('Rejected')),
) -->

{% block content %}
<section>
    <div class="content-wrapper" id="new-report">
        <div class="content-heading">
            {{ report.name }}
        </div>

        <ol class="breadcrumb">
            <li><a href="{% url 'voy-admin:projects:index' %}">{% trans 'My projects' %}</a></li>
            <li><a href="{% url 'voy-admin:themes:index' theme.project.pk %}">{{ theme.project.name }}</a></li>
            <li><a href="{% url 'voy-admin:reports:index' theme.pk %}">{{ theme.name }}</a></li>
            <li>{% trans 'Reports' %}</li>
            <li>{{ report.name }}</li>
        </ol>

        <div class="panel">
            <div class="panel-body">
                <div class="pull-right buttons">
                    <button type="button" class="btn btn-default edit">Edit</button>
                    <button type="button" class="btn btn-default reject">Reject</button>
                    <button type="button" class="btn btn-default approve">Approve</button>
                </div>

                <h3 class="mt0">{{ report.name }}</h3>
                {% trans 'By' %} {{ report.created_by.first_name }} {{ report.created_on|date:'d M Y' }} {{ report.comments.count }} {% trans 'comments' %}
                <hr>

                <div class="row mb-lg">
                    <div class="col-lg-12 col-md-12">{{ report.description }}</div>      
                </div>

                <div class="row mb-lg">
                    {% for file in report.files.all %}
                        <div class="col-md-4">
                            {% if file.media_type == 'image' %}
                                <img src="{{ file.file.url }}" alt="" class="img-responsive">
                            {% elif file.media_type == 'video' %}
                                <video src="{{ file.file.url }}"></video>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
             </div>
        </div>
    </div>
</section>
{% endblock %}
